# Base ???
FROM node:16.17-alpine

# ?? ??
RUN mkdir /app
WORKDIR /app

# ?? package.json/ package.lock.json ??? ??
COPY ./package*.json ./

# ??? ???? ????? ?? ??? serve ??
RUN npm install -g serve


COPY ./ ./
RUN npm install
RUN npm run build 


# # # # ??? ??? ?? ???? ??
# RUN mkdir ./build-2
# COPY ./build ./build-2

# ?? ???
ENTRYPOINT ["serve", "-s", "build"]
# ENTRYPOINT ["npm", "run", "serve"]